{"version":3,"sources":["redux/selectors.js","utils.js","WebAPI.js","redux/reducers/userReducer.js","constants/breakpoint.js","components/Header/Header.js","components/Footer/Footer.js","components/Kanban/Kanban.js","components/ReadMore/ReadMore.js","images/home.jpg","components/Post/BigReview.js","components/Post/SmallReview.js","components/Wrapper/NormalWrapper.js","images/input.jpg","components/Wrapper/InputWrapper.js","components/Button/Button.js","components/Button/Pagination.js","components/Post/NormalReview.js","redux/reducers/postReducer.js","pages/HomePage/HomePage.js","components/Span/Orange.js","components/Input/Input.js","components/Input/Textarea.js","pages/LoginPage/LoginPage.js","pages/PostPage/PostPage.js","pages/AddPostPage/AddPostPage.js","pages/EditPostPage/EditPostPage.js","images/me.jpg","pages/AboutPage/AboutPage.js","pages/RegisterPage/RegisterPage.js","pages/PostsPage/PostsPage.js","pages/PostsPage/AuthorPostsPage.js","images/loading.svg","components/Loading/Loading.js","components/App/App.js","redux/reducers/store.js","index.js"],"names":["selectPosts","store","posts","selectPost","post","selectIsLoadingPost","isLoadingPost","selectPostsNum","totalPostsNum","selectErrMessage","errMessage","selectIsLoadingUser","users","isLoadingUser","selectUser","user","selectUserErrMessage","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","formatDate","timestamp","time","Date","year","getFullYear","month","getMonth","day","getDate","BASE_URL","UserReducer","createSlice","name","initialState","reducers","setUser","state","action","payload","setIsLoadingUser","setErrMessage","actions","getMe","dispatch","fetch","headers","authorization","then","res","json","getMeAPI","response","console","log","ok","data","message","login","username","password","method","body","JSON","stringify","loginAPI","register","nickname","registerAPI","a","MEDIA_QUERY_MD","HeaderContainer","styled","div","props","theme","colors","black","white","LeftContainer","Brand","Link","font","xxl","orange","NavebarList","Nav","sm","Header","useDispatch","useSelector","history","useHistory","to","onClick","push","FooterContainer","FooterWord","Footer","KanbanContainer","xxxl","GreyWords","span","light_grey","Kanban","ReadMore","size","md","ReadmoreComponent","PostContainer","PostWrapper","almost_grey","PostPicture","Picture","img","PostTop","Title","xl","PostBottom","PostMiddle","PostAuthor","BigReview","date","createdAt","title","id","src","picture","lg","SmallReview","WrapperWrapper","location","NormalWrapper","children","InputWrapper","Button","button","color","Bottun","PaginationButton","$active","PaginationWrapper","Pagination","num","useLocation","pathname","Array","fill","map","item","index","InfoContainer","PostTitle","Body","ReadmoreWrapper","ButtonWrapper","TitleWrapper","NormalReview","deletePostFunction","e","PostReducer","setIsLoadingPost","setPost","setPosts","setTotalPostsNum","filterPost","filter","getPost","getPostAPI","catch","error","getPostsNum","length","getPostsByPage","page","limit","getPostsByPageAPI","getPostsByAuthor","authorId","addPost","addPostAPI","content","deletePost","deletePostAPI","updatePost","updatePostAPI","SmallReviewWrapper","HomePage","useEffect","slice","Orange","OrangeSpan","Input","input","dark_grey","InputComponent","type","value","onChange","Textarea","textarea","TextareaComponent","h1","ErrMessage","InputGroup","isLoading","useState","setUsername","setPassword","handleSubmit","preventDefault","result","onSubmit","target","PostDate","Post","alert","toLocaleString","PostPage","useParams","propType","PropTypes","object","author","string","AddPage","setTitle","setContent","EditPage","Photo","AboutPage","setNickname","Wrapper","pagesNum","useRef","postsNum","current","Math","ceil","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","x","y","width","height","attributeName","repeatCount","dur","calcMode","keyTimes","values","keySplines","begin","_ref3","_ref4","SvgLoading","_ref","svgRef","titleId","xmlns","xmlnsXlink","style","margin","background","display","shapeRendering","viewBox","preserveAspectRatio","ref","ForwardRef","LoadingWrapper","Loading","Root","BodyWrapper","App","exact","path","configureStore","reducer","postReducer","userReducer","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","xxs","xs","header","document","getElementById"],"mappings":"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","file":"static/js/main.1d431805.chunk.js","sourcesContent":["export const selectPosts = (store) => store.posts.posts;\r\nexport const selectPost = (store) => store.posts.post;\r\nexport const selectIsLoadingPost = (store) => store.posts.isLoadingPost;\r\nexport const selectPostsNum = (store) => store.posts.totalPostsNum;\r\nexport const selectErrMessage = (store) => store.posts.errMessage;\r\n\r\nexport const selectIsLoadingUser = (store) => store.users.isLoadingUser;\r\nexport const selectUser = (store) => store.users.user;\r\nexport const selectUserErrMessage = (store) => store.users.errMessage;\r\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n\nexport const formatDate = (timestamp) => {\n  const time = new Date(timestamp);\n  const monthArr = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n  const year = time.getFullYear();\n  const month = monthArr[time.getMonth()];\n  const day = time.getDate();\n  return `${month} ${day}, ${year}`;\n};\n","import { getAuthToken } from \"./utils\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPostsNum = () => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc&_expand=user`)\n    .then((res) => res.json())\n    .then((data) => data.length);\n};\n\nexport const getPostsByPage = (page, limit) => {\n  return fetch(\n    `${BASE_URL}/posts?_expand=user&_sort=createdAt&_order=desc&_page=${page}&_limit=${limit}`\n  ).then((res) => res.json());\n};\n\nexport const getPostsByAuthor = (authorId) => {\n  return fetch(\n    `${BASE_URL}/posts?_expand=user&_sort=createdAt&_order=desc&userId=${authorId}`\n  ).then((res) => res.json());\n};\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?_expand=user&id=${id}`).then((res) => {\n    return res.json();\n  });\n};\n\nexport const addPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const register = (username, password, nickname) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const deletePostAPI = (id) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"DELETE\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n  }).then((res) => {\n    return res;\n  });\n};\n\nexport const updatePostAPI = (id, title, content) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body: content,\n    }),\n  }).then((res) => {\n    return res.json();\n  });\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { getAuthToken, setAuthToken } from \"../../utils\";\r\nimport {\r\n  getMe as getMeAPI,\r\n  login as loginAPI,\r\n  register as registerAPI,\r\n} from \"../../WebAPI\";\r\n\r\nexport const UserReducer = createSlice({\r\n  name: \"users\",\r\n  initialState: {\r\n    user: null,\r\n    isLoadingUser: false,\r\n    errMessage: \"\",\r\n  },\r\n  reducers: {\r\n    setUser: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n    setIsLoadingUser: (state, action) => {\r\n      state.isLoadingUser = action.payload;\r\n    },\r\n    setErrMessage: (state, action) => {\r\n      state.errMessage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setIsLoadingUser, setUser, setErrMessage } = UserReducer.actions;\r\n\r\nexport const getMe = () => (dispatch) => {\r\n  dispatch(setIsLoadingUser(true));\r\n  if (getAuthToken()) {\r\n    getMeAPI().then((response) => {\r\n      console.log(response);\r\n      if (response.ok === 1) {\r\n        dispatch(setUser(response.data));\r\n        dispatch(setIsLoadingUser(false));\r\n        return true;\r\n      }\r\n      setAuthToken(null);\r\n      dispatch(setErrMessage(response.message));\r\n    });\r\n  }\r\n  dispatch(setIsLoadingUser(false));\r\n  return false;\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  dispatch(setIsLoadingUser(true));\r\n  setAuthToken(\"\");\r\n  dispatch(setUser(null));\r\n  dispatch(setIsLoadingUser(false));\r\n};\r\n\r\nexport const login = (username, password) => (dispatch) => {\r\n  dispatch(setIsLoadingUser(true));\r\n  dispatch(setErrMessage(\"\"));\r\n  return loginAPI(username, password).then((data) => {\r\n    if (!data.ok) {\r\n      dispatch(setIsLoadingUser(false));\r\n      dispatch(setErrMessage(data.message));\r\n      return false;\r\n    }\r\n    setAuthToken(data.token);\r\n    dispatch(setIsLoadingUser(false));\r\n    return true;\r\n  });\r\n};\r\n\r\nexport const register = (username, password, nickname) => (dispatch) => {\r\n  dispatch(setIsLoadingUser(true));\r\n  dispatch(setErrMessage(\"\"));\r\n  return registerAPI(username, password, nickname).then(async (res) => {\r\n    if (res.ok !== 1) {\r\n      dispatch(setErrMessage(res.message));\r\n      dispatch(setIsLoadingUser(false));\r\n      return false;\r\n    }\r\n    // 註冊成功 -> 將 token 存入 local storage\r\n    setAuthToken(res.token);\r\n    dispatch(setIsLoadingUser(false));\r\n    return true;\r\n  });\r\n};\r\n\r\nexport default UserReducer.reducer;\r\n","export const MEDIA_QUERY_MD = \"@media screen and (min-width: 768px)\";\r\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectUser } from \"../../redux/selectors\";\nimport { logout } from \"../../redux/reducers/userReducer\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: ${(props) => props.theme.colors.black};\n  color: ${(props) => props.theme.colors.white};\n  padding: 0 32px 5px 32px;\n  z-index: 99;\n\n  ${MEDIA_QUERY_MD} {\n    flex-direction: row;\n  }\n`;\n\nconst LeftContainer = styled.div`\n  display: flex;\n`;\n\nconst Brand = styled(Link)`\n  font-size: ${(props) => props.theme.font.xxl}px;\n  font-weight: bold;\n  margin-right: 10px;\n  display: flex;\n  height: 64px;\n  align-items: center;\n  color: ${(props) => props.theme.colors.orange};\n  text-decoration: none;\n`;\n\nconst NavebarList = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Nav = styled(Link)`\n  display: flex;\n  font-size: ${(props) => props.theme.font.sm}px;\n  align-items: center;\n  position: relative;\n  display: block;\n  margin-left: 20px;\n  color: ${(props) => props.theme.colors.white};\n  text-decoration: none;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    bottom: 0;\n    width: 0;\n    border-bottom: 2px solid ${(props) => props.theme.colors.orange};\n    -webkit-transition: width 0.5s ease-in-out;\n    -moz-transition: width 0.5s ease-in-out;\n    -ms-transition: width 0.5s ease-in-out;\n    -o-transition: width 0.5s ease-in-out;\n    transition: width 0.5s ease-in-out;\n  }\n\n  &:hover:before {\n    width: 80%;\n  }\n`;\n\nexport default function Header() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const history = useHistory();\n\n  const handleLogout = () => {\n    dispatch(logout());\n    history.push(\"/\");\n  };\n\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand to='/'>Redux Blog</Brand>\n      </LeftContainer>\n      <NavebarList>\n        <Nav to='/about'>About Me</Nav>\n        <Nav to='/posts/1'>All Posts</Nav>\n        <NavebarList>{user && <Nav to='/addPost'>Add Post</Nav>}</NavebarList>\n        {!user && (\n          <>\n            <Nav to='/register'>Register</Nav>\n            <Nav to='/login'>Login</Nav>\n          </>\n        )}\n        {user && <Nav onClick={handleLogout}>Logout</Nav>}\n      </NavebarList>\n    </HeaderContainer>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst FooterContainer = styled.div`\n  height: 48px;\n  display: flex;\n  align-items: center;\n  left: 0;\n  right: 0;\n  background: ${(props) => props.theme.colors.black};\n  color: ${(props) => props.theme.colors.white};\n  text-align: center;\n`;\n\nconst FooterWord = styled.div`\n  margin: 0 auto;\n`;\n\nexport default function Footer() {\n  return (\n    <FooterContainer>\n      <FooterWord>2021 made by v61265</FooterWord>\n    </FooterContainer>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst KanbanContainer = styled.div`\n  height: 300px;\n  display: flex;\n  align-content: center;\n  align-items: center;\n  background: ${(props) => props.theme.colors.black};\n  color: ${(props) => props.theme.colors.white};\n  padding: 0 32px;\n  font-size: ${(props) => props.theme.font.xxxl}px;\n`;\n\nconst GreyWords = styled.span`\n  color: ${(props) => props.theme.colors.light_grey};\n`;\n\nexport default function Kanban() {\n  return (\n    <KanbanContainer>\n      <div>\n        <div>\n          Lidemy, <GreyWords>let's</GreyWords>\n        </div>\n        <div>\n          <GreyWords>keep learning and</GreyWords>\n        </div>\n        <div>\n          <GreyWords>happy coding.</GreyWords>\n        </div>\n      </div>\n    </KanbanContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nconst ReadMore = styled(Link)`\n  color: ${(props) => props.theme.colors.orange};\n  font-size: ${(props) => {\n    if (props.size !== \"small\") {\n      return props.theme.font.md;\n    } else {\n      return props.theme.font.sm;\n    }\n  }}px;\n  font-weight: ${(props) => {\n    if (props.size !== \"small\") return \"bold\";\n  }};\n  margin: 5px;\n  text-decoration: none;\n\n  &:hover {\n    color: #ffa78d;\n    -webkit-transition: all 0.3s ease-in-out;\n    -moz-transition: all 0.3s ease-in-out;\n    -o-transition: all 0.3s ease-in-out;\n    -ms-transition: all 0.3s ease-in-out;\n  }\n`;\n\nexport default function ReadmoreComponent({ to, size }) {\n  return (\n    <ReadMore to={to} size={size}>\n      Read More\n    </ReadMore>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/home.1fa40934.jpg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport { formatDate } from \"../../utils\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\nimport ReadMore from \"../ReadMore\";\nimport picture from \"../../images/home.jpg\";\nimport { Link } from \"react-router-dom\";\n\nconst PostContainer = styled.div`\n  background: ${(props) => props.theme.colors.light_grey};\n  color: ${(props) => props.theme.colors.black};\n  padding: 32px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  box-sizing: border-box;\n\n  ${MEDIA_QUERY_MD} {\n    height: 50vw;\n    width: 100%;\n    flex-direction: row;\n  }\n`;\n\nconst PostWrapper = styled.div`\n  border-top: 2px solid ${(props) => props.theme.colors.almost_grey};\n  border-bottom: 2px solid ${(props) => props.theme.colors.almost_grey};\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  padding: 10px;\n  justify-content: space-between;\n  margin-bottom: 32px;\n  min-height: 400px;\n\n  ${MEDIA_QUERY_MD} {\n    margin-bottom: 0px;\n    margin-right: 32px;\n    margin-bottom: 0px;\n  }\n`;\n\nconst PostPicture = styled.div`\n  width: 80vw;\n  height: 80vw;\n  align-self: center;\n\n  ${MEDIA_QUERY_MD} {\n    height: 40vw;\n    width: 40vw;\n  }\n`;\n\nconst Picture = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n\nconst PostTop = styled.div`\n  font-weight: bold;\n`;\n\nconst Title = styled.div`\n  font-size: ${(props) => props.theme.font.xl}px;\n  font-weight: bold;\n  padding-right: 20px;\n\n  ${MEDIA_QUERY_MD} {\n    margin-bottom: 36px;\n  }\n`;\n\nconst PostBottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst PostMiddle = styled.div`\n  margin: 32px 0;\n\n  ${MEDIA_QUERY_MD} {\n    margin: 0px;\n  }\n`;\n\nconst PostAuthor = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.orange};\n  }\n\n  &:active {\n    color: black;\n  }\n`;\n\nexport default function BigReview({ post }) {\n  const date = formatDate(post.createdAt);\n  return (\n    <PostContainer>\n      <PostWrapper>\n        <PostTop>Article</PostTop>\n        <PostMiddle>\n          <Title>{post.title}</Title>\n          <ReadMore to={`/post/${post.id}`} />\n        </PostMiddle>\n        <PostBottom>\n          <div>{date}</div>\n          <PostAuthor to={`/author/${post.user.id}`}>\n            by {post.user.nickname}\n          </PostAuthor>\n        </PostBottom>\n      </PostWrapper>\n      <PostPicture>\n        <Picture src={picture} />\n      </PostPicture>\n    </PostContainer>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { formatDate } from \"../../utils\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst PostContainer = styled.div`\n  min-height: 80vw;\n  width: 80vw;\n  display: flex;\n  background: ${(props) => props.theme.colors.light_grey};\n  color: ${(props) => props.theme.colors.black};\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  justify-content: space-between;\n\n  ${MEDIA_QUERY_MD} {\n    min-height: 25vw;\n    width: 25vw;\n  }\n`;\n\nconst PostTop = styled.div`\n  font-weight: bold;\n`;\n\nconst Title = styled(Link)`\n  font-size: ${(props) => props.theme.font.lg}px;\n  font-weight: bold;\n  margin-bottom: 36px;\n  text-decoration: none;\n  color: black;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  white-space: normal;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst PostBottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  & * {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 50%;\n  }\n`;\n\nconst PostMiddle = styled.div`\n  margin: 0;\n`;\n\nconst PostAuthor = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.orange};\n  }\n\n  &:active {\n    color: black;\n  }\n`;\n\nexport default function SmallReview({ post }) {\n  const date = formatDate(post.createdAt);\n  return (\n    <PostContainer>\n      <PostTop>Article</PostTop>\n      <PostMiddle>\n        <Title to={`/post/${post.id}`}>{post.title}</Title>\n      </PostMiddle>\n      <PostBottom>\n        <div>{date}</div>\n        <PostAuthor to={`/author/${post.user.id}`}>\n          by {post.user.nickname}\n        </PostAuthor>\n      </PostBottom>\n    </PostContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst WrapperWrapper = styled.div`\n  margin: 0 auto;\n  margin-top: ${(props) => {\n    if (props.location !== \"middle\") return \"95px\";\n  }};\n  padding: 32px;\n  min-height: ${(props) => {\n    if (props.location !== \"middle\") return \"calc(100vh - 48px - 95px);\";\n  }};\n  background: white;\n\n  ${MEDIA_QUERY_MD} {\n    max-width: 600px;\n    box-shadow: 2px 1px 5px rgba(0, 0, 0, 0.4);\n    margin-top: ${(props) => {\n      if (props.location !== \"middle\") return \"110px\";\n    }};\n    margin-bottom: 32px;\n    min-height: 0px;\n  }\n`;\n\nexport default function NormalWrapper({ children, location }) {\n  return <WrapperWrapper location={location}>{children}</WrapperWrapper>;\n}\n","export default __webpack_public_path__ + \"static/media/input.5392032d.jpg\";","import styled from \"styled-components\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\nimport picture from \"../../images/input.jpg\";\n\nconst WrapperWrapper = styled.div`\n  margin: 0 auto;\n  margin-top: 95px;\n  padding: 32px;\n  min-height: calc(100vh - 48px - 95px);\n  background: white;\n  display: flex;\n  flex-direction: column;\n\n  ${MEDIA_QUERY_MD} {\n    max-width: 600px;\n    box-shadow: 2px 1px 5px rgba(0, 0, 0, 0.4);\n    margin-top: 110px;\n    margin-bottom: 32px;\n    min-height: 0px;\n    flex-direction: row;\n  }\n`;\n\nconst Picture = styled.div`\n  min-width: 100%;\n  min-height: 300px;\n  background: url(${picture});\n  background-size: cover;\n  margin-bottom: 18px;\n\n  ${MEDIA_QUERY_MD} {\n    margin-bottom: 0;\n    min-width: 30%;\n    margin-right: 32px;\n  }\n`;\n\nexport default function InputWrapper({ children }) {\n  return (\n    <WrapperWrapper>\n      <Picture />\n      {children}\n    </WrapperWrapper>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Button = styled.button`\n  padding: ${(props) => {\n    if (props.size === \"medium\") return \"5px 10px\";\n  }};\n  background: white;\n  color: ${(props) => props.color};\n  border: 1px solid ${(props) => props.color};\n  margin-top: 10px;\n  width: ${(props) => {\n    if (props.size === \"medium\") return \"100%\";\n  }};\n  box-sizing: border-box;\n  min-width: 30px;\n\n  &:hover {\n    -webkit-transition: all 0.3s ease-in-out;\n    -moz-transition: all 0.3s ease-in-out;\n    -o-transition: all 0.3s ease-in-out;\n    -ms-transition: all 0.3s ease-in-out;\n    color: white;\n    background: ${(props) => props.color};\n    cursor: pointer;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n`;\n\nexport default function Bottun({ size, color, children, onClick }) {\n  return (\n    <Button size={size} color={color} onClick={onClick}>\n      {children}\n    </Button>\n  );\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\n\nconst PaginationButton = styled(Link)`\n  width: 24px;\n  height: 24px;\n  text-align: center;\n  color: black;\n  border: 1px solid black;\n  background: white;\n  text-decoration: none;\n\n  &:hover {\n    background: black;\n    color: white;\n  }\n\n  & + & {\n    margin-left: 5px;\n  }\n\n  ${(props) =>\n    props.$active &&\n    `\n  background: black;\n  color: white;`}\n`;\n\nconst PaginationWrapper = styled.div`\n  margin: 0 auto;\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n`;\n\nexport default function Pagination({ num }) {\n  const location = useLocation().pathname;\n  console.log(num);\n  return (\n    <PaginationWrapper>\n      {new Array(num).fill(\"\").map((item, index) => {\n        return (\n          <PaginationButton\n            key={index}\n            to={`/posts/${index + 1}`}\n            $active={\n              location === `/posts/${index + 1}` ||\n              (location === \"/\" && index === 0)\n            }\n          >\n            {index + 1}\n          </PaginationButton>\n        );\n      })}\n    </PaginationWrapper>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { formatDate } from \"../../utils\";\nimport { NormalWrapper } from \"../../components/Wrapper\";\nimport ReadMore from \"../ReadMore\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Button } from \"../../components/Button\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../redux/selectors\";\n\nconst InfoContainer = styled.div`\n  font-size: 14px;\n  color: #373f27;\n  background: ${(props) => props.theme.colors.light_grey};\n  padding: 5px;\n  margin: 10px 0;\n`;\n\nconst PostAuthor = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.orange};\n  }\n\n  &:active {\n    color: black;\n  }\n`;\n\nconst PostTitle = styled.div`\n  text-decoration: none;\n  font-size: 32px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Body = styled.div`\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 2rem;\n  white-space: pre-wrap;\n  display: -webkit-box;\n  -webkit-line-clamp: 5;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst PostWrapper = styled.div`\n  padding: 18px 0;\n  border-top: 2px solid black;\n  border-bottom: 2px solid black;\n  display: flex;\n  flex-direction: column;\n  -webkit-filter: invert(1);\n\n  &:hover {\n    -webkit-filter: invert(0);\n  }\n`;\n\nconst ReadmoreWrapper = styled.div`\n  margin-top: 5px;\n  align-self: flex-end;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 18px;\n  min-weidth: 90px;\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport default function NormalReview({ post, deletePostFunction }) {\n  const user = useSelector(selectUser);\n  const date = formatDate(post.createdAt);\n  const history = useHistory();\n\n  return (\n    <NormalWrapper location={\"middle\"}>\n      <PostWrapper>\n        <TitleWrapper>\n          <PostTitle>{post.title}</PostTitle>\n          {user && user.id === post.user.id && (\n            <ButtonWrapper>\n              <Button\n                color={\"black\"}\n                onClick={() => history.push(`/edit/${post.id}`)}\n              >\n                編輯\n              </Button>\n              <Button\n                color={(props) => props.theme.colors.orange}\n                onClick={(e) => deletePostFunction(post.id)}\n              >\n                刪除\n              </Button>\n            </ButtonWrapper>\n          )}\n        </TitleWrapper>\n        <InfoContainer>\n          {date}　\n          <PostAuthor to={`/author/${post.user.id}`}>\n            by {post.user.nickname}\n          </PostAuthor>\n        </InfoContainer>\n        <Body>{post.body}</Body>\n        <ReadmoreWrapper>\n          <ReadMore size={\"small\"} to={`/post/${post.id}`} />\n        </ReadmoreWrapper>\n      </PostWrapper>\n    </NormalWrapper>\n  );\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  getPost as getPostAPI,\r\n  addPost as addPostAPI,\r\n  getPostsByPage as getPostsByPageAPI,\r\n  getPostsNum as getPostsNumAPI,\r\n  getPostsByAuthor as getPostsByAuthorAPI,\r\n  deletePostAPI,\r\n  updatePostAPI,\r\n} from \"../../WebAPI\";\r\n\r\nexport const PostReducer = createSlice({\r\n  name: \"posts\",\r\n  initialState: {\r\n    isLoadingPost: false,\r\n    post: [],\r\n    errMessage: null,\r\n    posts: [],\r\n    totalPostsNum: 0,\r\n  },\r\n  reducers: {\r\n    setIsLoadingPost: (state, action) => {\r\n      state.isLoadingPost = action.payload;\r\n    },\r\n    setPost: (state, action) => {\r\n      state.post = action.payload;\r\n    },\r\n    setErrMessage: (state, action) => {\r\n      state.errMessage = action.payload;\r\n    },\r\n    setPosts: (state, action) => {\r\n      state.posts = action.payload;\r\n    },\r\n    setTotalPostsNum: (state, action) => {\r\n      state.totalPostsNum = action.payload;\r\n    },\r\n    filterPost: (state, action) => {\r\n      state.posts = state.posts.filter((post) => post.id !== action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setIsLoadingPost,\r\n  setPost,\r\n  setErrMessage,\r\n  setPosts,\r\n  setTotalPostsNum,\r\n  filterPost,\r\n} = PostReducer.actions;\r\n\r\n// 拿到單一文章\r\nexport const getPost = (id) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  return getPostAPI(id)\r\n    .then((res) => {\r\n      dispatch(setPost(res));\r\n      dispatch(setIsLoadingPost(false));\r\n      return res;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\n// 取得文章總數\r\nexport const getPostsNum = () => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  getPostsNumAPI()\r\n    .then((res) => {\r\n      dispatch(setTotalPostsNum(res));\r\n      dispatch(setIsLoadingPost(false));\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      dispatch(setIsLoadingPost(false));\r\n    });\r\n};\r\n\r\n// 拿到特定範圍內的文章 + 抓取文章總數\r\nexport const getPostsByPage = (page, limit) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  return getPostsByPageAPI(page, limit)\r\n    .then((res) => {\r\n      dispatch(setPosts(res));\r\n      dispatch(setIsLoadingPost(false));\r\n      return res;\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      dispatch(setIsLoadingPost(false));\r\n    });\r\n};\r\n\r\n// 拿到特定作者文章\r\nexport const getPostsByAuthor = (id) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  getPostsByAuthorAPI(id)\r\n    .then((res) => {\r\n      console.log(res);\r\n      dispatch(setPosts(res));\r\n      dispatch(setIsLoadingPost(false));\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      dispatch(setIsLoadingPost(false));\r\n    });\r\n};\r\n\r\n// 新增文章\r\nexport const addPost = (data) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  return addPostAPI(data.title, data.content).then((res) => {\r\n    return res;\r\n  });\r\n};\r\n\r\n// 刪除文章\r\nexport const deletePost = (id) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  return deletePostAPI(id).then((res) => {\r\n    // 手動重設 posts\r\n    dispatch(filterPost(id));\r\n    dispatch(setIsLoadingPost(false));\r\n    return res;\r\n  });\r\n};\r\n\r\n// 刪除文章\r\nexport const updatePost = (id, title, content) => (dispatch) => {\r\n  dispatch(setIsLoadingPost(true));\r\n  console.log(\"開始串 API\");\r\n  return updatePostAPI(id, title, content).then((res) => {\r\n    dispatch(setIsLoadingPost(false));\r\n    return res;\r\n  });\r\n};\r\n\r\nexport default PostReducer.reducer;\r\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Kanban from \"../../components/Kanban\";\nimport { BigReview, SmallReview } from \"../../components/Post\";\nimport { selectPosts } from \"../../redux/selectors\";\nimport {\n  setIsLoadingPost,\n  setPosts,\n  getPostsByPage,\n} from \"../../redux/reducers/postReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst SmallReviewWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px;\n\n  & > * + * {\n    margin-top: 32px;\n  }\n\n  ${MEDIA_QUERY_MD} {\n    flex-direction: row;\n    justify-content: center;\n\n    & > * + * {\n      margin-top: 0px;\n      margin-left: 32px;\n    }\n  }\n`;\n\nconst Body = styled.div`\n  background: white;\n`;\n\nexport default function HomePage() {\n  const limit = 4;\n  const dispatch = useDispatch();\n  const posts = useSelector(selectPosts);\n\n  useEffect(() => {\n    dispatch(getPostsByPage(1, limit));\n\n    return () => {\n      dispatch(setIsLoadingPost(false));\n      dispatch(setPosts([]));\n    };\n  }, [dispatch]);\n\n  return (\n    <Body>\n      <Kanban />\n      {posts[0] && <BigReview post={posts[0]} />}\n      <SmallReviewWrapper>\n        {posts[0] &&\n          posts.slice(1).map((post) => {\n            return <SmallReview key={post.id} post={post} />;\n          })}\n      </SmallReviewWrapper>\n    </Body>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Orange = styled.span`\n  color: ${(props) => props.theme.colors.orange};\n`;\n\nexport default function OrangeSpan({ children }) {\n  return <Orange>{children}</Orange>;\n}\n","import styled from \"styled-components\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst Input = styled.input`\n  color: ${(props) => props.theme.colors.black};\n  margin-bottom: 5px;\n  padding: 10px;\n  border: 0;\n  border-bottom: 1.5px solid ${(props) => props.theme.colors.almost_grey};\n  width: 80vw;\n  box-sizing: border-box;\n  ${(props) => {\n    return props.size === \"l\" && \"font-size: 18px;\";\n  }}\n\n  &:focus {\n    outline: none;\n    background: ${(props) => props.theme.colors.dark_grey};\n  }\n\n  ${MEDIA_QUERY_MD} {\n    width: ${(props) => {\n      if (props.size === \"l\") {\n        return \"100%\";\n      } else {\n        return \"300px\";\n      }\n    }};\n  }\n`;\n\nexport default function InputComponent({ type, value, onChange, size }) {\n  return (\n    <Input type={type} value={value} onChange={onChange} size={size}></Input>\n  );\n}\n","import styled from \"styled-components\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst Textarea = styled.textarea`\n  color: ${(props) => props.theme.colors.almost_grey};\n  margin: 10px 0;\n  padding: 5px;\n  border: 1px solid ${(props) => props.theme.colors.almost_grey};\n  width: 100%;\n  height: 20rem;\n  font-size: 16px;\n  box-sizing: border-box;\n  line-height: 1.5rem;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport default function TextareaComponent({ type, value, onChange }) {\n  return <Textarea type={type} value={value} onChange={onChange}></Textarea>;\n}\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from \"../../components/Button\";\nimport Orange from \"../../components/Span\";\nimport {\n  selectIsLoadingUser,\n  selectUser,\n  selectUserErrMessage,\n} from \"../../redux/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  setIsLoadingUser,\n  login,\n  setErrMessage,\n  getMe,\n} from \"../../redux/reducers/userReducer\";\nimport { InputWrapper } from \"../../components/Wrapper\";\nimport { Input } from \"../../components/Input\";\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nconst InputGroup = styled.div`\n  margin: 8px 0;\n`;\n\nexport default function HomePage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const isLoading = useSelector(selectIsLoadingUser);\n  const errMessage = useSelector(selectUserErrMessage);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  // 如果已經登入就離開\n  if (user) {\n    history.push(\"/\");\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    const result = await dispatch(login(username, password));\n    if (!result) return;\n    const getMeResult = await dispatch(getMe());\n    if (!getMeResult) return;\n    if (result) history.push(\"/\");\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      dispatch(setIsLoadingUser(false));\n      dispatch(setErrMessage(\"\"));\n    };\n  }, []);\n\n  return (\n    <InputWrapper>\n      <div>\n        <Title>\n          Log<Orange>i</Orange>n\n        </Title>\n        <form onSubmit={handleSubmit}>\n          <InputGroup>\n            USERNAME\n            <br />\n            <Input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </InputGroup>\n          <InputGroup>\n            PASSWORD\n            <br />\n            <Input\n              type='password'\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </InputGroup>\n          {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n          <Button size={\"medium\"} color={\"black\"}>\n            送出\n          </Button>\n        </form>\n      </div>\n    </InputWrapper>\n  );\n}\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { Link, useParams, useHistory } from \"react-router-dom\";\nimport { NormalWrapper } from \"../../components/Wrapper\";\nimport { Button } from \"../../components/Button\";\nimport { selectPost, selectUser } from \"../../redux/selectors\";\nimport {\n  getPost,\n  setIsLoadingPost,\n  setPost,\n} from \"../../redux/reducers/postReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deletePost } from \"../../redux/reducers/postReducer\";\n\nconst InfoContainer = styled.div`\n  font-size: 14px;\n  color: #373f27;\n  background: ${(props) => props.theme.colors.light_grey};\n  padding: 5px;\n  margin: 10px 0;\n`;\n\nconst PostAuthor = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.orange};\n  }\n\n  &:active {\n    color: black;\n  }\n`;\n\nconst PostDate = styled.div`\n  margin-top: 5px;\n`;\n\nconst PostTitle = styled.div`\n  text-decoration: none;\n  font-size: 32px;\n  color: #373f27;\n  font-weight: bold;\n`;\n\nconst Body = styled.div`\n  margin-top: 10px;\n  font-size: 14px;\n  line-height: 2rem;\n  white-space: pre-wrap;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nfunction Post({ post }) {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  const history = useHistory();\n\n  const deletePostFunction = (id) => {\n    alert(\"確定要刪除嗎？\");\n    dispatch(deletePost(id)).then((res) => {\n      if (!res.ok) return alert(\"刪除失敗\");\n      alert(\"刪除成功\");\n      return history.push(\"/posts/1\");\n    });\n  };\n  return (\n    <>\n      {post[0] && (\n        <NormalWrapper>\n          {post[0] && post[0].user && user && user.id === post[0].user.id && (\n            <ButtonWrapper>\n              <Button\n                color={\"black\"}\n                onClick={() => history.push(`/edit/${post[0].id}`)}\n              >\n                編輯\n              </Button>\n              <Button\n                color={(props) => props.theme.colors.orange}\n                onClick={(e) => deletePostFunction(post[0].id)}\n              >\n                刪除\n              </Button>\n            </ButtonWrapper>\n          )}\n          <PostTitle>{post[0].title}</PostTitle>\n          <InfoContainer>\n            <PostAuthor to={`/author/${post[0].user.id}`}>\n              by {post[0].user.nickname}\n            </PostAuthor>\n            <PostDate>{new Date(post[0].createdAt).toLocaleString()}</PostDate>\n          </InfoContainer>\n          <Body>{post[0].body}</Body>\n        </NormalWrapper>\n      )}\n    </>\n  );\n}\n\nPost.propType = {\n  post: PropTypes.object,\n};\n\nexport default function PostPage() {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const post = useSelector(selectPost);\n\n  useEffect(() => {\n    dispatch(getPost(id));\n\n    return () => {\n      dispatch(setIsLoadingPost(false));\n      dispatch(setPost([]));\n    };\n  }, [id, dispatch]);\n\n  return <>{post[0] && <Post key={post[0].id} post={post} />}</>;\n}\n\nPost.propType = {\n  post: PropTypes.object,\n  author: PropTypes.string,\n};\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  addPost,\n  setIsLoadingPost,\n  setErrMessage,\n} from \"../../redux/reducers/postReducer\";\nimport {\n  selectIsLoadingPost,\n  selectErrMessage,\n  selectUser,\n} from \"../../redux/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Orange from \"../../components/Span\";\nimport { Input, Textarea } from \"../../components/Input\";\nimport { Button } from \"../../components/Button\";\nimport { NormalWrapper } from \"../../components/Wrapper\";\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nconst InputGroup = styled.div`\n  font-size: 14px;\n  & + & {\n    margin-top: 10px;\n  }\n`;\n\nexport default function AddPage() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoadingPost);\n  const errMessage = useSelector(selectErrMessage);\n  const user = useSelector(selectUser);\n\n  // 身分驗證\n  if (!user) {\n    history.push(\"/\");\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    dispatch(setErrMessage(\"\"));\n    dispatch(addPost({ title, content })).then((res) => {\n      dispatch(setIsLoadingPost(false));\n      if (res.ok !== 0) {\n        history.push(`/post/${res.id}`);\n      }\n      return dispatch(setErrMessage(res.message));\n    });\n  };\n\n  // 離開前清空 loading 和 errMessage\n  useEffect(() => {\n    return () => {\n      dispatch(setIsLoadingPost(false));\n      dispatch(setErrMessage(\"\"));\n    };\n  }, []);\n\n  return (\n    <NormalWrapper>\n      <Title>\n        New <Orange>P</Orange>ost\n      </Title>\n      <form onSubmit={handleSubmit}>\n        <InputGroup>\n          TITLE\n          <br />\n          <Input\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            size={\"l\"}\n          />\n        </InputGroup>\n        <InputGroup>\n          CONTENT\n          <br />\n          <Textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </InputGroup>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button size={\"medium\"} color={\"black\"}>\n          送出\n        </Button>\n      </form>\n    </NormalWrapper>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n  getPost,\n  setIsLoadingPost,\n  setErrMessage,\n  updatePost,\n} from \"../../redux/reducers/postReducer\";\nimport {\n  selectIsLoadingPost,\n  selectErrMessage,\n  selectUser,\n  selectPost,\n} from \"../../redux/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Orange from \"../../components/Span\";\nimport { Input, Textarea } from \"../../components/Input\";\nimport { Button } from \"../../components/Button\";\nimport { NormalWrapper } from \"../../components/Wrapper\";\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nconst InputGroup = styled.div`\n  font-size: 14px;\n  & + & {\n    margin-top: 10px;\n  }\n`;\n\nexport default function EditPage() {\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const post = useSelector(selectPost);\n  const isLoading = useSelector(selectIsLoadingPost);\n  const errMessage = useSelector(selectErrMessage);\n  const user = useSelector(selectUser);\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(getPost(id)).then((data) => {\n      setTitle(data[0].title);\n      setContent(data[0].body);\n    });\n\n    return () => {\n      dispatch(setIsLoadingPost(false));\n      dispatch(setErrMessage(\"\"));\n    };\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    if (user.id !== post[0].user.id)\n      return alert(\"你沒有權限編輯這篇文章，請確認登入狀況。\");\n    dispatch(setErrMessage(\"\"));\n    if (!title || !content) {\n      return dispatch(setErrMessage(\"標題和內容不可空白\"));\n    }\n    dispatch(updatePost(id, title, content)).then((res) => {\n      dispatch(setIsLoadingPost(false));\n      return history.push(`/post/${res.id}`);\n    });\n  };\n\n  return (\n    <NormalWrapper>\n      <Title>\n        Edit Post <Orange>#</Orange>\n        {post[0] && post[0].id}\n      </Title>\n      <form onSubmit={(e) => handleSubmit(e)}>\n        <InputGroup>\n          TITLE\n          <br />\n          <Input\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            size={\"l\"}\n          />\n        </InputGroup>\n        <InputGroup>\n          CONTENT\n          <br />\n          <Textarea\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </InputGroup>\n        {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n        <Button size={\"medium\"} color={\"black\"}>\n          送出\n        </Button>\n      </form>\n    </NormalWrapper>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/me.13169f19.jpg\";","import styled from \"styled-components\";\nimport { NormalWrapper } from \"../../components/Wrapper\";\nimport picture from \"../../images/me.jpg\";\nimport Orange from \"../../components/Span\";\n\nconst Photo = styled.div`\n  height: 250px;\n  width: 250px;\n  background: url(${picture});\n  border-radius: 50%;\n  margin: 0 auto;\n  background-repeat: no-repeat;\n  background-size: cover;\n`;\n\nconst Title = styled.h1`\n  margin-top: 36px;\n  text-align: center;\n`;\n\nexport default function AboutPage() {\n  return (\n    <NormalWrapper>\n      <Photo />\n      <Title>\n        About <Orange>M</Orange>e\n      </Title>\n      <p>生菜。正在練習用 react 和 redux 做部落格。</p>\n      <p>興趣雜食，喜愛一切有趣的事物。</p>\n      <p>\n        過了可以簽契約變成魔法少女的年紀，於是只能努力成為溫柔又強大的工程師。\n      </p>\n    </NormalWrapper>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useHistory } from \"react-router-dom\";\nimport { Input } from \"../../components/Input\";\nimport { Button } from \"../../components/Button\";\nimport Orange from \"../../components/Span\";\nimport { InputWrapper } from \"../../components/Wrapper\";\nimport {\n  selectIsLoadingUser,\n  selectUser,\n  selectUserErrMessage,\n} from \"../../redux/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  setIsLoadingUser,\n  setErrMessage,\n  register,\n  getMe,\n} from \"../../redux/reducers/userReducer\";\n\nconst InputGroup = styled.div`\n  margin: 8px 0;\n`;\n\nconst Title = styled.h1`\n  margin-top: 0px;\n`;\n\nconst ErrMessage = styled.div`\n  color: red;\n`;\n\nexport default function HomePage() {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoadingUser);\n  const errMessage = useSelector(selectUserErrMessage);\n  const user = useSelector(selectUser);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const history = useHistory();\n\n  // 如果已經登入就離開\n  if (user) {\n    history.push(\"/\");\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isLoading) return;\n    const registerResult = await dispatch(\n      register(username, password, nickname)\n    );\n    if (!registerResult) return;\n    const getMeResult = await dispatch(getMe());\n    if (!getMeResult) return;\n    history.push(\"/\");\n  };\n\n  // 防止這頁還沒跑完其他頁也不能跑\n  useEffect(() => {\n    return () => {\n      dispatch(setIsLoadingUser(false));\n      dispatch(setErrMessage(\"\"));\n    };\n  }, []);\n\n  return (\n    <InputWrapper>\n      <div>\n        <Title>\n          <Orange>R</Orange>egister\n        </Title>\n        <form onSubmit={(e) => handleSubmit(e)}>\n          <InputGroup>\n            USERNAME\n            <br />\n            <Input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </InputGroup>\n          <InputGroup>\n            PASSWORD\n            <br />\n            <Input\n              type='password'\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </InputGroup>\n          <InputGroup>\n            NICKNAME\n            <br />\n            <Input\n              value={nickname}\n              onChange={(e) => setNickname(e.target.value)}\n            />\n          </InputGroup>\n          {errMessage && <ErrMessage>{errMessage}</ErrMessage>}\n          <Button size={\"medium\"} color={\"black\"}>\n            送出\n          </Button>\n        </form>\n      </div>\n    </InputWrapper>\n  );\n}\n","import { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router-dom\";\nimport { Pagination } from \"../../components/Button\";\nimport { selectPosts, selectPostsNum } from \"../../redux/selectors\";\nimport {\n  getPostsNum,\n  setIsLoadingPost,\n  setPosts,\n  getPostsByPage,\n} from \"../../redux/reducers/postReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NormalReview as Post } from \"../../components/Post\";\nimport { deletePost } from \"../../redux/reducers/postReducer\";\n\nconst Wrapper = styled.div`\n  margin-top: 100px;\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n`;\n\nexport default function HomePage() {\n  const limit = 5;\n  const page = useParams().page || 1;\n  const pagesNum = useRef();\n  const dispatch = useDispatch();\n  const posts = useSelector(selectPosts);\n  const postsNum = useSelector(selectPostsNum);\n\n  // 分頁邏輯：先抓全部的得到總數 -> render 第一頁和按鈕\n  useEffect(() => {\n    console.log(\"refresh\");\n    dispatch(setIsLoadingPost(true));\n    dispatch(getPostsNum());\n    pagesNum.current = Math.ceil(postsNum / limit);\n    dispatch(getPostsByPage(page, limit));\n\n    return () => {\n      dispatch(setIsLoadingPost(false));\n    };\n  }, [page, dispatch, postsNum]);\n\n  const deletePostFunction = (id) => {\n    alert(\"確定要刪除嗎？\");\n    dispatch(deletePost(id)).then((res) => {\n      console.log(res);\n      if (!res.ok) return alert(\"刪除失敗\");\n      dispatch(getPostsNum());\n      return alert(\"刪除成功\");\n    });\n  };\n\n  console.log(posts);\n  return (\n    <Wrapper>\n      <Title>ALL POSTS</Title>\n      {posts &&\n        posts.map((post) => (\n          <Post\n            key={post.id}\n            deletePostFunction={deletePostFunction}\n            post={post}\n          />\n        ))}\n      {pagesNum.current && <Pagination num={pagesNum.current} />}\n    </Wrapper>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router-dom\";\nimport { selectPosts } from \"../../redux/selectors\";\nimport {\n  getPostsByAuthor,\n  setIsLoadingPost,\n  setPosts,\n} from \"../../redux/reducers/postReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NormalReview as Post } from \"../../components/Post\";\nimport Orange from \"../../components/Span\";\nimport { deletePost } from \"../../redux/reducers/postReducer\";\n\nconst Wrapper = styled.div`\n  margin-top: 100px;\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n`;\n\nexport default function HomePage() {\n  const id = useParams().id || 1;\n  const dispatch = useDispatch();\n  const posts = useSelector(selectPosts);\n\n  useEffect(() => {\n    dispatch(getPostsByAuthor(id));\n\n    return () => {\n      dispatch(setIsLoadingPost(false));\n      dispatch(setPosts([]));\n    };\n  }, [dispatch, id]);\n\n  const deletePostFunction = (id) => {\n    alert(\"確定要刪除嗎？\");\n    dispatch(deletePost(id)).then((res) => {\n      if (!res.ok) return alert(\"刪除失敗\");\n      return alert(\"刪除成功\");\n    });\n  };\n\n  console.log(posts);\n  return (\n    <Wrapper>\n      <Title>\n        {posts[0] ? (\n          <>\n            {posts[0].user.nickname}\n            <Orange>`s</Orange> POSTS\n          </>\n        ) : (\n          `這位作者目前沒有文章ㄛ`\n        )}\n      </Title>\n      {posts[0] &&\n        posts.map((post) => (\n          <Post\n            key={post.id}\n            post={post}\n            deletePostFunction={() => deletePostFunction(post.id)}\n          />\n        ))}\n    </Wrapper>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 17.5,\n  y: 30,\n  width: 15,\n  height: 40,\n  fill: \"#0a0a0a\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"y\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"18;30;30\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n  begin: \"-0.2s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"height\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"64;40;40\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n  begin: \"-0.2s\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 42.5,\n  y: 30,\n  width: 15,\n  height: 40,\n  fill: \"#28292f\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"y\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"20.999999999999996;30;30\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n  begin: \"-0.1s\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"height\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"58.00000000000001;40;40\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n  begin: \"-0.1s\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 67.5,\n  y: 30,\n  width: 15,\n  height: 40,\n  fill: \"#ffffff\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"y\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"20.999999999999996;30;30\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n}), /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"height\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  calcMode: \"spline\",\n  keyTimes: \"0;0.5;1\",\n  values: \"58.00000000000001;40;40\",\n  keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n}));\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      background: \"rgb(241, 242, 243)\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.f8189684.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\nimport { ReactComponent as LoadingSVG } from \"../../images/loading.svg\";\n\nconst LoadingWrapper = styled.div`\n  display: flex;\n  justify-contents: center;\n  text-align: center;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 3;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWrapper>\n      <LoadingSVG />\n    </LoadingWrapper>\n  );\n}\n","import { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport HomePage from \"../../pages/HomePage\";\nimport LoginPage from \"../../pages/LoginPage\";\nimport PostPage from \"../../pages/PostPage\";\nimport AddPostPage from \"../../pages/AddPostPage\";\nimport EditPostPage from \"../../pages/EditPostPage\";\nimport AboutPage from \"../../pages/AboutPage\";\nimport RegisterPage from \"../../pages/RegisterPage\";\nimport { AuthorPostsPage, PostsPage } from \"../../pages/PostsPage\";\nimport { getMe } from \"../../redux/reducers/userReducer\";\nimport {\n  selectIsLoadingUser,\n  selectIsLoadingPost,\n} from \"../../redux/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loading from \"../Loading\";\nimport { MEDIA_QUERY_MD } from \"../../constants/breakpoint\";\n\nconst Root = styled.div`\n  margin-top: 95px;\n  ${MEDIA_QUERY_MD} {\n    margin-top: 64px;\n  }\n`;\n\nconst BodyWrapper = styled.div`\n  min-height: calc(100vh - 48px - 95px);\n  ${MEDIA_QUERY_MD} {\n    min-height: calc(100vh - 48px - 64px);\n  }\n`;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isLoadingUser = useSelector(selectIsLoadingUser);\n  const isLoadingPost = useSelector(selectIsLoadingPost);\n\n  useEffect(() => {\n    dispatch(getMe());\n  }, []);\n\n  return (\n    <Root>\n      {isLoadingUser && <Loading />}\n      {isLoadingPost && <Loading />}\n      <BodyWrapper>\n        <Router>\n          <Header />\n          <Switch>\n            <Route exact path='/'>\n              <HomePage />\n            </Route>\n          </Switch>\n          <Switch>\n            <Route path='/posts/:page'>\n              <PostsPage />\n            </Route>\n          </Switch>\n          <Route exact path='/login'>\n            <LoginPage />\n          </Route>\n          <Route path='/post/:id'>\n            <PostPage />\n          </Route>\n          <Route exact path='/addPost'>\n            <AddPostPage />\n          </Route>\n          <Route exact path='/about'>\n            <AboutPage />\n          </Route>\n          <Route exact path='/register'>\n            <RegisterPage />\n          </Route>\n          <Route path='/author/:id'>\n            <AuthorPostsPage />\n          </Route>\n          <Route path='/edit/:id'>\n            <EditPostPage />\n          </Route>\n        </Router>\n      </BodyWrapper>\n\n      <Footer />\n    </Root>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport postReducer from \"./postReducer\";\r\nimport userReducer from \"./userReducer\";\r\n\r\nexport default configureStore(\r\n  {\r\n    reducer: {\r\n      posts: postReducer,\r\n      users: userReducer,\r\n    },\r\n  },\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/index\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/reducers/store\";\nimport { ThemeProvider } from \"styled-components\";\n\nconst theme = {\n  colors: {\n    black: \"#000000\",\n    almost_grey: \"#0D0D0D\",\n    white: \"#FFFFFF\",\n    dark_grey: \"#F5F5F5\",\n    light_grey: \"#f5f5f570\",\n    orange: \"#FF6F43\",\n  },\n  font: {\n    xxs: 14,\n    xs: 16,\n    sm: 18,\n    md: 20,\n    lg: 22,\n    xl: 24,\n    xxl: 30,\n    xxxl: 40,\n  },\n\n  height: {\n    header: 64,\n  },\n};\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}